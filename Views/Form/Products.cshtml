@{
    var pages = ViewBag.Pages as List<website.Models.PageContent> ?? new List<website.Models.PageContent>();
}
@model List<website.Models.Product>
@await Html.PartialAsync("_header")
@{
    ViewData["Title"] = "Products";

    // ViewBag se category aur new addition info
    var category = ViewBag.Category as website.Models.Category;
    string? newAdditionTitle = ViewBag.NewAdditionTitle as string;

    // Banner image
    string bannerImage = category != null ? category.BannerImageUrl ?? "" : "";

    // Page title
    string title = !string.IsNullOrEmpty(newAdditionTitle)
                   ? newAdditionTitle
                   : category?.Name ?? "All Products";

    // Description (sirf category ke liye)
    string description = category?.Description ?? "";
}

<!-- ============ BANNER ============= -->
@if (!string.IsNullOrEmpty(bannerImage))
{
    <div class="text-center mb-5">
        <img src="@bannerImage"
             class="img-fluid w-100 rounded"
             style="height:320px; object-fit:cover;" />
        <h2 class="mt-3">@title Collection</h2>
        @if (!string.IsNullOrEmpty(description))
        {
            <p class="text-muted">@description</p>
        }
    </div>
}
else
{
    <h2 class="text-center mb-4">@title</h2>
}

<!-- ============ PRODUCTS ============ -->
@if (Model != null && Model.Any())
{
    <div class="row">
        @foreach (var product in Model)
        {
            <div class="col-md-3 mb-4 product-col">
                <div class="card product-card h-100 shadow-sm">
                    <img src="@product.ImageUrl" class="card-img-top" alt="@product.Name" />
                    <div class="card-body text-center">
                        <h5>@product.Name</h5>
                        <p>Rs @product.Price</p>
                    </div>
                    <div class="card-footer text-center">
                        <a asp-controller="Form"
                           asp-action="ProductDetails"
                           asp-route-id="@product.Id"
                           class="btn btn-sm btn-primary">
                            View Details
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>
}
else
{
    <div class="alert alert-warning text-center">
        No Products Found
    </div>
}
@await Html.PartialAsync("_footer")
<style>
    /* ===== PRODUCTS GRID - FURNITURE THEME ===== */
    .product-card {
        transition: transform 0.3s, box-shadow 0.3s;
        overflow: hidden;
        border-radius: 12px;
        background-color: #fff5e6; /* warm beige */
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        cursor: pointer;
    }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(139, 94, 60, 0.2);
        }

        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s, filter 0.3s;
            border-bottom: 2px solid #D9A066;
        }

            .product-card img:hover {
                transform: scale(1.05);
                filter: brightness(1.1);
            }

        .product-card .card-body h5 {
            font-size: 1rem;
            font-weight: 600;
            color: #4b3a2f; /* dark warm brown */
            margin-bottom: 6px;
        }

        .product-card .card-body p {
            font-size: 0.9rem;
            color: #8B5E3C; /* brown accent */
            font-weight: 600;
            margin-bottom: 0;
        }

        .product-card .card-footer {
            background: none;
            border-top: none;
            padding-top: 8px;
            text-align: right;
        }

            .product-card .card-footer .btn {
                background-color: #8B5E3C;
                color: #fff;
                border-radius: 6px;
                padding: 6px 12px;
                font-size: 0.85rem;
                transition: all 0.3s ease;
            }

                .product-card .card-footer .btn:hover {
                    background-color: #D9A066;
                    color: #4b3a2f;
                }

</style>



